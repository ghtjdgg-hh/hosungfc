# HosungFC â€” ì¶•êµ¬íŒ€ ê´€ë¦¬ì ì‹œìŠ¤í…œ
JSP + Java(ì„œë¸”ë¦¿/DAO) + Oracle ê¸°ë°˜ì˜ **íŒ€ ìš´ì˜/ì „ìˆ  ì¶”ì²œ ê´€ë¦¬ì í˜ì´ì§€**  
í¬ë©”ì´ì…˜ ë“œë˜ê·¸ì•¤ë“œë¡­, Kakao Map ë¼ì´ë²Œ ë¶„ì„, Hugging Face + ê·œì¹™ ì—”ì§„ ì „ìˆ  ì½”ë©˜íŠ¸

---

## #0. í”„ë¡œì íŠ¸ ê°œìš”
**í”„ë¡œì íŠ¸ ì´ë¦„**: HosungFC (ì¶•êµ¬íŒ€ ê´€ë¦¬ & ì „ìˆ  ì¶”ì²œ ì‹œìŠ¤í…œ)

**í”„ë¡œì íŠ¸ ëª©ì  ë° ê°œìš”**  
ì•„ë§ˆì¶”ì–´ ê°ë…/ì½”ì¹˜ë¥¼ ìœ„í•´ **ì„ ìˆ˜ Â· í¬ë©”ì´ì…˜ Â· ë¼ì´ë²Œ ë¶„ì„ Â· ì „ìˆ  ì¶”ì²œ**ì„ í•œ ê³³ì—ì„œ ì œê³µí•˜ëŠ” ê´€ë¦¬ì ì‚¬ì´íŠ¸ë¥¼ êµ¬ì¶•.  
ì„ ìˆ˜ ë°ì´í„°ì™€ ìƒëŒ€ ì „ìˆ  ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ **ê·œì¹™ ì—”ì§„**ì—ì„œ 1ì°¨ ì¶”ì²œì•ˆì„ ë§Œë“¤ê³ , **Hugging Face Inference API**ë¡œ ì „ìˆ  ì„¤ëª…ì„ **ìš”ì•½Â·ë³´ì™„**í•˜ì—¬ ì˜ì‚¬ê²°ì •ì„ ë•ëŠ”ë‹¤.  
ë“œë˜ê·¸ì•¤ë“œë¡­ í¬ë©”ì´ì…˜ í¸ì§‘, Kakao Map ê¸°ë°˜ ë¼ì´ë²Œ ì •ë³´ ì‹œê°í™”ë¡œ **ìš´ì˜ íš¨ìœ¨**ê³¼ **ê°€ë…ì„±**ì„ í™•ë³´í•œë‹¤.

**í”„ë¡œì íŠ¸ ê¸°ê°„**: 2025.05.30 ~ 2025.07.09

---

## ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ (View / JSP ê¸°ë°˜)
- JSP, HTML5, CSS3, JavaScript(ES6), jQuery  
- Bootstrap, Kakao Map JavaScript API

![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-ES6+-F7DF1E?style=for-the-badge&logo=javascript&logoColor=white)
![Bootstrap](https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white)
![KakaoMap](https://img.shields.io/badge/Kakao%20Map-API-FFCD00?style=for-the-badge)

### ë°±ì—”ë“œ
- Java, Servlet/JSP(MVC2), Service/DAO ê³„ì¸µ  
- MyBatis ë˜ëŠ” JDBC Template  
- Hugging Face Inference API (GPT-2 ê³„ì—´ ìš”ì•½/ì½”ë©˜íŠ¸)  
- Ajax(JSON) ê¸°ë°˜ API

![Java](https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=java&logoColor=white)
![JSP](https://img.shields.io/badge/JSP-MVC2-2D4470?style=for-the-badge)
![HuggingFace](https://img.shields.io/badge/Hugging%20Face-Inference%20API-FFCC4D?style=for-the-badge)

### ë°ì´í„°ë² ì´ìŠ¤
- **Oracle**  
- ì£¼ìš” í…Œì´ë¸”: `player`, `formation`, `formation_position`, `rival_club`, `region`, `player_analysis`, `player_tactic_recommendation`

![Oracle](https://img.shields.io/badge/Oracle_DB-F80000?style=for-the-badge&logo=oracle&logoColor=white)

### ë¹Œë“œ ë„êµ¬ / ê°œë°œ í™˜ê²½
- Eclipse ë˜ëŠ” VS Code, Maven, Apache Tomcat, Git/GitHub, WAR íŒ¨í‚¤ì§•

![Maven](https://img.shields.io/badge/Maven-C71A36?style=for-the-badge&logo=apachemaven&logoColor=white)
![Tomcat](https://img.shields.io/badge/Apache_Tomcat-F8DC75?style=for-the-badge&logo=apachetomcat&logoColor=black)
![GitHub](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white)

---

## #1. ì„¤ëª…

### ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Mermaid)
```mermaid
graph LR
  %% ìŠ¤íƒ€ì¼
  classDef ui  fill:#f5f5f5,stroke:#888,color:#222
  classDef svc fill:#e8f4ff,stroke:#4a90e2,color:#0b3a66
  classDef db  fill:#eef9f0,stroke:#3fbf6f,color:#0d5132
  classDef ext fill:#fffbe6,stroke:#f2c744,color:#333

  %% í´ë¼ì´ì–¸íŠ¸
  subgraph Client["í´ë¼ì´ì–¸íŠ¸ (ë¸Œë¼ìš°ì €)"]
    UI[UI: JSP HTML CSS JS, Drag and Drop]:::ui
    MAP[Kakao Map JS SDK]:::ext
  end

  %% ì•± ì„œë²„
  subgraph App["ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ (Tomcat / JSP-Servlet)"]
    F[Filter Interceptor - ì„¸ì…˜ ê¶Œí•œ]:::svc
    CTRL[Controller Servlet - /login /players /formations /rivals /ai/recommend]:::svc
    SRV[Service - ê²€ì¦ íŠ¸ëœì­ì…˜ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜]:::svc
    RULES[Rules Engine - í¬ì§€ì…˜ ìŠ¤íƒ€ì¼ ìƒëŒ€ì „ìˆ  ë§¤ì¹­]:::svc
    DAO[DAO MyBatis Mapper]:::svc
  end

  %% ë¦¬ì†ŒìŠ¤
  DB[(Oracle DB: player, formation, formation_position, rival_club, region, player_analysis, player_tactic_recommendation)]:::db
  HF[(Hugging Face Inference API: ìš”ì•½/ì½”ë©˜íŠ¸)]:::ext
  LOG[(Logging Monitoring)]:::ext

  %% ì—°ê²°
  UI -->|AJAX JSON| F --> CTRL
  UI -.-> MAP
  CTRL --> SRV --> DAO --> DB
  SRV --> RULES
  SRV -.-> HF
  CTRL -.-> LOG
```

### ì‹œìŠ¤í…œ íë¦„ë„ (AI ì „ìˆ  ì¶”ì²œ)
```mermaid
sequenceDiagram
  autonumber
  participant U as ì‚¬ìš©ì
  participant B as ë¸Œë¼ìš°ì € JSP/JS
  participant F as Filter ì„¸ì…˜
  participant C as Controller /ai/recommend
  participant S as Service
  participant R as ê·œì¹™ ì—”ì§„
  participant D as Oracle DB
  participant H as HF Inference API

  U->>B: ì„ ìˆ˜ì™€ ìƒëŒ€ ì „ìˆ  ì„ íƒ í›„ ì „ìˆ  ì¶”ì²œ í´ë¦­
  B->>F: ìš”ì²­ ì „ì†¡ ì„¸ì…˜ ê²€ì¦
  F-->>B: í†µê³¼ ë˜ëŠ” ë¡œê·¸ì¸ ìš”êµ¬
  B->>C: POST /ai/recommend {players, opponentTactics}
  C->>S: íŒŒë¼ë¯¸í„° ê²€ì¦ ë° ìœ„ì„
  S->>D: ì„ ìˆ˜/ë¶„ì„/ë¼ì´ë²Œ ë°ì´í„° ì¡°íšŒ
  D-->>S: ì¡°íšŒ ê²°ê³¼
  S->>R: ê·œì¹™ ë§¤ì¹­ ìˆ˜í–‰
  R-->>S: 1ì°¨ ì¶”ì²œì•ˆ ë°˜í™˜
  alt HF ì‚¬ìš© ê°€ëŠ¥
    S->>H: ì½”ë©˜íŠ¸ ìš”ì•½ ìƒì„± ìš”ì²­
    H-->>S: ìì—°ì–´ ì½”ë©˜íŠ¸ ìš”ì•½
    S-->>C: ê·œì¹™ ê²°ê³¼ì™€ ì½”ë©˜íŠ¸ ë³‘í•©
  else HF ì‹¤íŒ¨ ë˜ëŠ” ë¯¸ì‚¬ìš©
    S-->>C: ê·œì¹™ ê²°ê³¼ë§Œ ë°˜í™˜
  end
  C-->>B: JSON {ì¶”ì²œ ì „ìˆ , ê·¼ê±°, ì½”ë©˜íŠ¸}
  B->>U: í™”ë©´ í‘œì‹œ ëª¨ë‹¬ ë˜ëŠ” íŒ¨ë„
```

### í¬ë©”ì´ì…˜ ì €ì¥ íë¦„ë„ (Drag&Drop â†’ ì¢Œí‘œ ì €ì¥)
```mermaid
flowchart TD
  A[í•„ë“œì—ì„œ ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ì„ ìˆ˜ ë°°ì¹˜/ìˆ˜ì •] --> B[ì €ì¥ í´ë¦­]
  B --> C[JSì—ì„œ ì¢Œí‘œì™€ í¬ì§€ì…˜ ìˆ˜ì§‘ JSON]
  C --> D[POST /formations/:id/positions]
  D --> E[Controller ì¸ì¦ê³¼ íŒŒë¼ë¯¸í„° ê²€ì¦]
  E --> F[Service íŠ¸ëœì­ì…˜ ì‹œì‘]
  F --> G[DAO ê¸°ì¡´ í¬ì§€ì…˜ ì‚­ì œ ë˜ëŠ” ì—…ë°ì´íŠ¸]
  G --> H[(Oracle DB formation_position ì»¤ë°‹)]
  H --> I[Service ì„±ê³µ ì‘ë‹µ ìƒì„±]
  I --> J[ë¸Œë¼ìš°ì € í† ìŠ¤íŠ¸ ì•Œë¦¼ê³¼ ì¬ë Œë”]
  E -->|ê²€ì¦ ì˜¤ë¥˜| X[400 ë˜ëŠ” 422 JSON ì—ëŸ¬ UI ë©”ì‹œì§€]
  F -->|DB ì˜¤ë¥˜| Y[500 JSON ì—ëŸ¬ ì¬ì‹œë„ ë¡œê·¸ í™•ì¸]
```

**AI ì¶”ì²œ íë¦„ ìš”ì•½**  
1) DBì—ì„œ ì„ ìˆ˜ ìŠ¤íƒ€ì¼/ê°•ì /ì•½ì ê³¼ ìƒëŒ€ ì „ìˆ ì„ ì¡°íšŒ  
2) ê·œì¹™ ì—”ì§„ìœ¼ë¡œ 1ì°¨ ì¶”ì²œ ìƒì„±  
3) HF Inference APIë¡œ ì½”ë©˜íŠ¸/ì„¤ëª… ìƒì„±  
4) ê²°ê³¼ ë³‘í•© í›„ í™”ë©´ì— ë…¸ì¶œ (API ì‹¤íŒ¨ ì‹œ ê·œì¹™ ê²°ê³¼ë§Œ ë…¸ì¶œ)

---

## #2. ìš”êµ¬ ì‚¬í•­ ë¶„ì„
- ë¡œê·¸ì¸/ê¶Œí•œ(ì„ íƒ): ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ë³´í˜¸  
- ì„ ìˆ˜ ê´€ë¦¬: ë“±ë¡/ìˆ˜ì •/ì‚­ì œ, ì´ë¦„/í¬ì§€ì…˜ ê²€ìƒ‰, í˜ì´ì§•  
- í¬ë©”ì´ì…˜ ê´€ë¦¬: ë“œë˜ê·¸ì•¤ë“œë¡­ ë°°ì¹˜, ì¢Œí‘œ/ë¼ë²¨ ì €ì¥, ìˆ˜ì •/ì‚­ì œ  
- ë¼ì´ë²Œ ë¶„ì„: Kakao Map ë§ˆì»¤, ì§€ì—­ í•„í„°, ëª¨ë‹¬ì— ì „ì /ì „ìˆ /ì˜ˆìƒ ìŠ¹ë¥  í‘œì‹œ  
- AI ì „ìˆ  ì¶”ì²œ: ê·œì¹™ ì—”ì§„ ê²°ê³¼ë¥¼ ê¸°ë³¸ìœ¼ë¡œ, HF ìš”ì•½/ì½”ë©˜íŠ¸ë¡œ ë³´ì™„  
- ì•ˆì •ì„±: Ajax í‘œì¤€ ì‘ë‹µ(JSON), ì˜ˆì™¸ ë©”ì‹œì§€ ê·œê²©í™”, í•„ë“œ ê²€ì¦

---
## ğŸ¥ ë°ëª¨ ì˜ìƒ ëª¨ìŒ

### ğŸ¥ í¬ë©”ì´ì…˜ ë“œë˜ê·¸ì•¤ë“œë¡­
[ì˜ìƒ ë³´ê¸°](https://raw.githubusercontent.com/ghtjdgg-hh/hosungfc/main/hosungfc-formation.mp4)

### ğŸ¥ ë¼ì´ë²Œ ë¶„ì„
[ì˜ìƒ ë³´ê¸°](https://raw.githubusercontent.com/ghtjdgg-hh/hosungfc/main/hosungfc-rival-map.mp4)

### ğŸ¥ AI ì „ìˆ  ì¶”ì²œ
[ì˜ìƒ ë³´ê¸°](https://raw.githubusercontent.com/ghtjdgg-hh/hosungfc/main/hosungfc-ai-reco.mp4)








## ğŸ–¼ï¸ ì‹œìŠ¤í…œ ì´ë¯¸ì§€
[![Architecture](assets/architecture.png)](https://raw.githubusercontent.com/ghtjdgg-hh/hosungfc/main/assets/architecture.png)
[![Sequence](assets/sequence.png)](https://raw.githubusercontent.com/ghtjdgg-hh/hosungfc/main/assets/sequence.png)
[![ERD](assets/erd.png)](https://raw.githubusercontent.com/ghtjdgg-hh/hosungfc/main/assets/erd.png)


> GIF ë¯¸ë¦¬ë³´ê¸°ë¥¼ í•¨ê»˜ ë‘ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ì„¸ìš”.  
> `assets/hosungfc-formation.gif` íŒŒì¼ì„ ì¶”ê°€í•˜ì„¸ìš”.  
> ![formation preview](assets/hosungfc-formation.gif)

---

## ì‘ì„±ììš©: ë™ì˜ìƒ ì—…ë¡œë“œ/ì„ë² ë“œ ê°€ì´ë“œ
<details>
<summary>í¼ì¹˜ê¸°</summary>

### A) ì €ì¥ì†Œì— ì§ì ‘ ë„£ê¸° (ê°„ë‹¨, 100MB ì´í•˜ ê¶Œì¥)
1. ì €ì¥ì†Œ ë£¨íŠ¸ì— `assets/` í´ë” ìƒì„±  
2. `hosungfc-formation.mp4` ë“± ì˜ìƒì„ ì—…ë¡œë“œ  
3. READMEì—ì„œ ìƒëŒ€ê²½ë¡œë¡œ ì„ë² ë“œ:  
   ```html
   <video src="assets/hosungfc-formation.mp4" controls muted playsinline width="720"></video>
   ```
4. ì¬ìƒì´ ì•ˆ ë˜ë©´ **raw ë§í¬** ì‚¬ìš©:  
   ```html
   <video src="https://raw.githubusercontent.com/ghtjdgg-hh/hosungfc/main/assets/hosungfc-formation.mp4" controls muted playsinline width="720"></video>
   ```

### B) GitHub Releases ì— ì˜¬ë¦¬ê¸° (ì•ˆì •ì  ë°°í¬)
- Releases íƒ­ â†’ New release â†’ ì˜ìƒ ì—…ë¡œë“œ(assets)  
- ì—…ë¡œë“œëœ íŒŒì¼ì˜ URLì„ `<video src="...">` ì— ì‚¬ìš©

### C) Git LFS ì‚¬ìš© (100MB ì´ˆê³¼ íŒŒì¼)
```bash
git lfs install
git lfs track "*.mp4"
git add .gitattributes
git add assets/hosungfc-*.mp4
git commit -m "Add videos with Git LFS"
git push origin main
```
> íŒ€ ì €ì¥ì†Œ ìš©ëŸ‰ ì •ì±…ì„ í™•ì¸í•˜ì„¸ìš”.

### D) ì¸ì½”ë”©/ì••ì¶• ê¶Œì¥(ffmpeg ì˜ˆì‹œ)
```bash
# 720p, H.264 + AAC, í¬ê¸° ì ˆê°
ffmpeg -i input.mov -vf "scale=-2:720" -c:v libx264 -preset slow -crf 23 -c:a aac -b:a 128k hosungfc-formation.mp4

# ì›€ì§ì„ ë§ì€ í™”ë©´ì€ CRF 24~28ë¡œ ì¡°ì ˆ
ffmpeg -i input.mp4 -c:v libx264 -crf 26 -preset medium -c:a aac -b:a 128k output.mp4
```

### E) HTML5 `<video>` ì˜µì…˜ íŒ
- `controls`: í”Œë ˆì´ì–´ UI í‘œì‹œ  
- `muted`: ìë™ì¬ìƒ ì •ì±…ì— ìœ ë¦¬  
- `playsinline`: iOSì—ì„œ ì „ì²´í™”ë©´ ì „í™˜ ë°©ì§€  
- `poster="assets/thumb.png"`: ì¸ë„¤ì¼ ì§€ì •

</details>

---

## ğŸ“„ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ (ERD Â· Mermaid)
```mermaid
erDiagram
  PLAYER ||--o{ FORMATION_POSITION : ë°°ì¹˜
  FORMATION ||--o{ FORMATION_POSITION : ì¢Œí‘œ_ë¼ë²¨
  RIVAL_CLUB }o--|| REGION : ì†Œì†
  PLAYER ||--|| PLAYER_ANALYSIS : ë¶„ì„_ì¼ëŒ€ì¼
  PLAYER ||--o{ PLAYER_TACTIC_RECOMMENDATION : ì „ìˆ ì¶”ì²œ
  RIVAL_CLUB }o--o{ PLAYER_TACTIC_RECOMMENDATION : ìƒëŒ€ê¸°ë°˜

  PLAYER {
    int       player_id PK
    varchar   name
    varchar   position
    date      birth
    varchar   foot
  }

  FORMATION {
    int       formation_id PK
    varchar   name
    datetime  created_at
  }

  FORMATION_POSITION {
    int       position_id PK
    int       formation_id FK
    int       player_id FK
    int       x
    int       y
    varchar   role_label
  }

  RIVAL_CLUB {
    int       rival_id PK
    varchar   name
    varchar   logo_url
    varchar   main_tactic
    float     winrate_pred
    int       region_id FK
  }

  REGION {
    int       region_id PK
    varchar   name
  }

  PLAYER_ANALYSIS {
    int       player_id PK,FK
    varchar   style
    varchar   strengths
    varchar   weaknesses
    varchar   recommended_tactics
  }

  PLAYER_TACTIC_RECOMMENDATION {
    int       rec_id PK
    int       player_id FK
    int       rival_id  FK
    varchar   tactic
    varchar   rationale
    datetime  created_at
  }
```

---

## ğŸ”Œ í™˜ê²½ ë³€ìˆ˜ / ì„¤ì •
`.env` ë˜ëŠ” ì„œë²„ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬

```bash
# Kakao Map
KAKAO_MAP_APPKEY=ì—¬ê¸°ì—_í‚¤

# Hugging Face Inference API
HF_API_URL=https://api-inference.huggingface.co/models/gpt2
HF_API_TOKEN=hf_xxxxxxxxxxxxxxxxxxxxx
```
