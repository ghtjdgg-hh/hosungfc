# HosungFC â€” ì¶•êµ¬íŒ€ ê´€ë¦¬ì ì‹œìŠ¤í…œ
JSP + Java(ì„œë¸”ë¦¿/DAO) + Oracle ê¸°ë°˜ì˜ **íŒ€ ìš´ì˜/ì „ìˆ  ì¶”ì²œ ê´€ë¦¬ì í˜ì´ì§€**  
í¬ë©”ì´ì…˜ **ë“œë˜ê·¸&ë“œë¡­**, **Kakao Map** ë¼ì´ë²Œ ë¶„ì„, **ğŸ¤— Hugging Face + ê·œì¹™ ì—”ì§„** ì „ìˆ  ì½”ë©˜íŠ¸

---

## #0. í”„ë¡œì íŠ¸ ê°œìš”
**í”„ë¡œì íŠ¸ ì´ë¦„**: HosungFC (ì¶•êµ¬íŒ€ ê´€ë¦¬ & ì „ìˆ  ì¶”ì²œ ì‹œìŠ¤í…œ)

**í”„ë¡œì íŠ¸ ëª©ì  ë° ê°œìš”**  
ì•„ë§ˆì¶”ì–´ ê°ë…/ì½”ì¹˜ë¥¼ ìœ„í•´ **ì„ ìˆ˜Â·í¬ë©”ì´ì…˜Â·ë¼ì´ë²Œ ë¶„ì„Â·ì „ìˆ  ì¶”ì²œ**ì„ í•œ ê³³ì—ì„œ ì œê³µí•˜ëŠ” ê´€ë¦¬ì ì‚¬ì´íŠ¸ë¥¼ êµ¬ì¶•.  
ì„ ìˆ˜ ë°ì´í„°ì™€ ìƒëŒ€ ì „ìˆ  ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ **ê·œì¹™ ì—”ì§„**ì—ì„œ 1ì°¨ ì¶”ì²œì•ˆì„ ë§Œë“¤ê³ , **Hugging Face Inference API**ë¡œ ì „ìˆ  ì„¤ëª…ì„ **ìš”ì•½Â·ë³´ì™„**í•˜ì—¬ ì˜ì‚¬ê²°ì •ì„ ë•ëŠ”ë‹¤.  
ë“œë˜ê·¸&ë“œë¡­ í¬ë©”ì´ì…˜ í¸ì§‘, Kakao Map ê¸°ë°˜ ë¼ì´ë²Œ ì •ë³´ ì‹œê°í™”ë¡œ **ìš´ì˜ íš¨ìœ¨**ê³¼ **ê°€ë…ì„±**ì„ ë™ì‹œì— í™•ë³´í•œë‹¤.

**í”„ë¡œì íŠ¸ ê¸°ê°„**: 2025.05.30 ~ 2025.07.09

---

## ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ (View / JSP ê¸°ë°˜)
- **ë·°ì—”ì§„**: JSP (JavaServer Pages), HTML5  
- **í…œí”Œë¦¿ íƒœê·¸**: JSTL, EL  
- **ìŠ¤íƒ€ì¼ë§**: Bootstrap, CSS3  
- **JavaScript**: Vanilla JS (í•„ë“œ ë“œë˜ê·¸&ë“œë¡­), jQuery  
- **ì§€ë„**: Kakao Map JavaScript API

![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-ES6+-F7DF1E?style=for-the-badge&logo=javascript&logoColor=white)
![Bootstrap](https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white)
![KakaoMap](https://img.shields.io/badge/Kakao%20Map-API-FFCD00?style=for-the-badge)

### ë°±ì—”ë“œ
- **ì•„í‚¤í…ì²˜**: Java Servlet + DAO(ë˜ëŠ” Service/DAO ê³„ì¸µ), JSP MVC2  
- **ì–¸ì–´**: Java  
- **ORM/ë§¤í¼**: (ì„ íƒ) MyBatis ë˜ëŠ” JDBC Template  
- **AI ì—°ë™**: ğŸ¤— Hugging Face Inference API (GPT-2 ê³„ì—´ ìš”ì•½/ì½”ë©˜íŠ¸)  
- **API ìŠ¤íƒ€ì¼**: JSP + Controller(Servlet) + Ajax

![Java](https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=java&logoColor=white)
![JSP](https://img.shields.io/badge/JSP-MVC2-2D4470?style=for-the-badge)
![HuggingFace](https://img.shields.io/badge/Hugging%20Face-Inference%20API-FFCC4D?style=for-the-badge)

### ë°ì´í„°ë² ì´ìŠ¤
- **DB**: Oracle (ë˜ëŠ” MySQL)  
- **ì£¼ìš” í…Œì´ë¸”**:  
  `player`, `formation`, `formation_position`, `rival_club`, `region`, `player_analysis`, `player_tactic_recommendation`  
- í¬ì§€ì…˜ ì¢Œí‘œ, ìƒëŒ€ ì „ìˆ , ì˜ˆìƒ ìŠ¹ë¥  ë“± **ì˜ì‚¬ê²°ì •ìš© í•„ë“œ** ë³´ìœ 

![Oracle](https://img.shields.io/badge/Oracle_DB-F80000?style=for-the-badge&logo=oracle&logoColor=white)

### ë¹Œë“œ ë„êµ¬ / ê°œë°œ í™˜ê²½
- **IDE**: Eclipse ë˜ëŠ” VS Code  
- **ë¹Œë“œ**: Maven  
- **ì„œë²„**: Apache Tomcat  
- **ë²„ì „ ê´€ë¦¬**: Git / GitHub  
- **íŒ¨í‚¤ì§•**: WAR

![Maven](https://img.shields.io/badge/Maven-C71A36?style=for-the-badge&logo=apachemaven&logoColor=white)
![Tomcat](https://img.shields.io/badge/Apache_Tomcat-F8DC75?style=for-the-badge&logo=apachetomcat&logoColor=black)
![GitHub](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white)

---

## #1. ì„¤ëª…

### ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Mermaid)
```mermaid
graph LR
  %% ìŠ¤íƒ€ì¼
  classDef ui  fill:#f5f5f5,stroke:#888,color:#222
  classDef svc fill:#e8f4ff,stroke:#4a90e2,color:#0b3a66
  classDef db  fill:#eef9f0,stroke:#3fbf6f,color:#0d5132
  classDef ext fill:#fffbe6,stroke:#f2c744,color:#333

  %% í´ë¼ì´ì–¸íŠ¸
  subgraph Client["í´ë¼ì´ì–¸íŠ¸ (ë¸Œë¼ìš°ì €)"]
    UI[JSP Â· HTML/CSS/JS<br/>jQuery/Vanilla Â· Drag&Drop]:::ui
    MAP[Kakao Map JS SDK<br/>(ì§€ë„Â·ë§ˆì»¤Â·ëª¨ë‹¬)]:::ext
  end

  %% ì•± ì„œë²„
  subgraph App["ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ (Tomcat / JSPÂ·Servlet)"]
    F[Filter/Interceptor<br/>ì„¸ì…˜Â·ê¶Œí•œê²€ì‚¬]:::svc
    CTRL[Controller/Servlet<br/>/login Â· /players Â· /formations Â·<br/>/rivals Â· /ai/recommend]:::svc
    SRV[Service<br/>ê²€ì¦Â·íŠ¸ëœì­ì…˜Â·ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜]:::svc
    RULES[ê·œì¹™ ì—”ì§„<br/>í¬ì§€ì…˜/ìŠ¤íƒ€ì¼/ìƒëŒ€ì „ìˆ  ë§¤ì¹­]:::svc
    DAO[DAO / MyBatis Mapper]:::svc
  end

  %% ë¦¬ì†ŒìŠ¤
  DB[(Oracle DB)<br/>player Â· formation Â· formation_position Â·<br/>rival_club Â· region Â· player_analysis Â·<br/>player_tactic_recommendation]:::db
  HF[(ğŸ¤— Hugging Face Inference API<br/>(GPT-2 ê³„ì—´, ì½”ë©˜íŠ¸/ìš”ì•½))]:::ext
  LOG[(ë¡œê¹…/ëª¨ë‹ˆí„°ë§)]:::ext

  %% ì—°ê²°
  UI -- "AJAX(JSON) CRUD/ì¡°íšŒ/ì¶”ì²œ" --> F --> CTRL
  UI -. "í”„ë¡ íŠ¸ì—ì„œ ì§ì ‘ ì‚¬ìš©" .- MAP
  CTRL --> SRV --> DAO --> DB
  SRV --> RULES
  SRV -. "ìš”ì•½Â·ë³´ì™„(ì˜µì…˜)" .-> HF
  App -. "ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸/ì—ëŸ¬" .- LOG
```

### ì‹œìŠ¤í…œ íë¦„ë„ (AI ì „ìˆ  ì¶”ì²œ)
```mermaid
sequenceDiagram
  autonumber
  participant U as ì‚¬ìš©ì
  participant B as ë¸Œë¼ìš°ì €(JSP/JS)
  participant F as Filter/ì„¸ì…˜
  participant C as Controller(/ai/recommend)
  participant S as Service
  participant R as ê·œì¹™ ì—”ì§„
  participant D as Oracle DB
  participant H as ğŸ¤— HF API

  U->>B: ì„ ìˆ˜Â·ìƒëŒ€ ì „ìˆ  ì„ íƒ í›„ "ì „ìˆ  ì¶”ì²œ" í´ë¦­
  B->>F: ìš”ì²­ ì „ì†¡(ì„¸ì…˜/ê¶Œí•œê²€ì‚¬)
  F-->>B: í†µê³¼(ë¯¸í†µê³¼ ì‹œ ë¡œê·¸ì¸)
  B->>C: POST /ai/recommend {players, opponentTactics}
  C->>S: íŒŒë¼ë¯¸í„° ê²€ì¦/ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
  S->>D: ì„ ìˆ˜/ë¶„ì„/ë¼ì´ë²Œ ë°ì´í„° ì¡°íšŒ
  D-->>S: ì¡°íšŒ ê²°ê³¼
  S->>R: ê·œì¹™ ë§¤ì¹­(í¬ì§€ì…˜Â·ìŠ¤íƒ€ì¼Â·ìƒëŒ€ì „ìˆ )
  R-->>S: 1ì°¨ ì¶”ì²œì•ˆ(ì „ìˆ /í¬ë©”ì´ì…˜ í¬ì¸íŠ¸)
  alt HF ì‚¬ìš©
    S->>H: í”„ë¡¬í”„íŠ¸ ì „ì†¡(ìš”ì•½/ì½”ë©˜íŠ¸ ìƒì„±)
    H-->>S: ìì—°ì–´ ì½”ë©˜íŠ¸/ìš”ì•½
    S-->>C: ê·œì¹™ ê²°ê³¼ + HF ì½”ë©˜íŠ¸ ë³‘í•©
  else HF ì‹¤íŒ¨/ë¯¸ì‚¬ìš©
    S-->>C: ê·œì¹™ ê²°ê³¼ë§Œ ë°˜í™˜(í˜ì¼ì„¸ì´í”„)
  end
  C-->>B: JSON {ì¶”ì²œ ì „ìˆ , ê·¼ê±°, ì½”ë©˜íŠ¸}
  B->>U: ëª¨ë‹¬/íŒ¨ë„ì— ê²°ê³¼ ë Œë”ë§
```

### í¬ë©”ì´ì…˜ ì €ì¥ íë¦„ë„ (Drag&Drop â†’ ì¢Œí‘œ ì €ì¥)
```mermaid
flowchart TD
  A[í•„ë“œì—ì„œ ë“œë˜ê·¸&ë“œë¡­ìœ¼ë¡œ<br/>ì„ ìˆ˜ ë°°ì¹˜/ìˆ˜ì •] --> B[ì €ì¥ í´ë¦­]
  B --> C[JSë¡œ ì¢Œí‘œ/í¬ì§€ì…˜ ìˆ˜ì§‘<br/>(JSON payload)]
  C --> D[POST /formations/{id}/positions]
  D --> E[Controller: ì¸ì¦/ê²€ì¦]
  E --> F[Service: íŠ¸ëœì­ì…˜ ì‹œì‘]
  F --> G[DAO: ê¸°ì¡´ í¬ì§€ì…˜ ì‚­ì œ/ì—…ë°ì´íŠ¸]
  G --> H[(Oracle DB)<br/>formation_position ì»¤ë°‹]
  H --> I[Service: ì„±ê³µ ì‘ë‹µ ìƒì„±]
  I --> J[ë¸Œë¼ìš°ì €: í† ìŠ¤íŠ¸/ì¬ë Œë”]
  E -->|ê²€ì¦ ì˜¤ë¥˜| X[400/422 JSON ì—ëŸ¬<br/>UIì— ë©”ì‹œì§€ í‘œì‹œ]
  F -->|DB ì˜¤ë¥˜| Y[500 JSON ì—ëŸ¬<br/>ì¬ì‹œë„/ë¡œê·¸ í™•ì¸]
```

**AI ì¶”ì²œ íë¦„(ìš”ì•½)**  
1) DBì—ì„œ ì„ ìˆ˜ ìŠ¤íƒ€ì¼/ê°•ì /ì•½ì  + ìƒëŒ€ ì „ìˆ  ì¡°íšŒ  
2) **ê·œì¹™ ì—”ì§„**ìœ¼ë¡œ 1ì°¨ ì¶”ì²œ(í¬ì§€ì…˜/ìŠ¤íƒ€ì¼/ìƒëŒ€ ì „ìˆ  ë§¤ì¹­)  
3) **ğŸ¤— HF Inference API (GPT-2)** í˜¸ì¶œ â†’ ì½”ë©˜íŠ¸/ì„¤ëª… ìƒì„±  
4) (2)+(3) ê²°ê³¼ ë³‘í•©í•˜ì—¬ í™”ë©´ ë…¸ì¶œ *(API ì‹¤íŒ¨ ì‹œ 2ë²ˆë§Œ ë…¸ì¶œ)*

---

## #2. ìš”êµ¬ ì‚¬í•­ ë¶„ì„
- **ë¡œê·¸ì¸/ê¶Œí•œ(ì„ íƒ)**: ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ë³´í˜¸(ì¶”ê°€ ì˜ˆì • ì‹œ)  
- **ì„ ìˆ˜ ê´€ë¦¬**: ë“±ë¡/ìˆ˜ì •/ì‚­ì œ, ì´ë¦„/í¬ì§€ì…˜ ê²€ìƒ‰, í˜ì´ì§• ëª©ë¡  
- **í¬ë©”ì´ì…˜ ê´€ë¦¬**: í•„ë“œ ë°°ê²½ ìœ„ **ë“œë˜ê·¸&ë“œë¡­ ë°°ì¹˜**, ì¢Œí‘œ/ë¼ë²¨ ì €ì¥, ìˆ˜ì •/ì‚­ì œ  
- **ë¼ì´ë²Œ ë¶„ì„**: Kakao Map ë§ˆì»¤/ì§€ì—­ í•€, ëª¨ë‹¬ë¡œ ì „ì /ì „ìˆ /ì˜ˆìƒ ìŠ¹ë¥ /ê°•ì ì„ ìˆ˜ ë“± ìƒì„¸ í‘œì‹œ  
- **AI ì „ìˆ  ì¶”ì²œ**: ê·œì¹™ ì—”ì§„ ê²°ê³¼ë¥¼ ê¸°ë³¸ìœ¼ë¡œ, HF ìš”ì•½/ì½”ë©˜íŠ¸ë¡œ **ë³´ì™„**  
- **ì„±ëŠ¥/ì•ˆì •ì„±**: Ajax í‘œì¤€ ì‘ë‹µ(JSON), ì˜ˆì™¸ ë©”ì‹œì§€ ê·œê²©í™”, í•„ë“œ ê²€ì¦

---

## #3. ì›Œí¬í”Œë¡œìš° ì˜ìƒ
- ì„ ìˆ˜/í¬ë©”ì´ì…˜: ë“œë˜ê·¸&ë“œë¡­ ë°°ì¹˜/ì €ì¥, ì„ ìˆ˜ ê²€ìƒ‰/í˜ì´ì§•  
- ë¼ì´ë²Œ ë¶„ì„: ë§ˆì»¤Â·ì§€ì—­ í•„í„°, ëª¨ë‹¬ì—ì„œ ì „ì /ì „ìˆ /ì˜ˆìƒ ìŠ¹ë¥  í™•ì¸  
- AI ì „ìˆ  ì¶”ì²œ: ê·œì¹™ ê²°ê³¼ + ğŸ¤—HF ìš”ì•½ ì„¤ëª… ë³‘í•© ì¶œë ¥  
> (ì˜ìƒ ì—…ë¡œë“œ ì‹œ `<video src=".../raw/main/assets/xxx.mp4" controls>` í˜•ì‹ ê¶Œì¥)

---

## ğŸ“„ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ (ERD Â· Mermaid)
```mermaid
erDiagram
  PLAYER ||--o{ FORMATION_POSITION : "ë°°ì¹˜"
  FORMATION ||--o{ FORMATION_POSITION : "ì¢Œí‘œ/ë¼ë²¨"
  RIVAL_CLUB }o--|| REGION : "ì†Œì†"
  PLAYER ||--|| PLAYER_ANALYSIS : "ë¶„ì„(1:1)"
  PLAYER ||--o{ PLAYER_TACTIC_RECOMMENDATION : "ì „ìˆ ì¶”ì²œ(1:N)"
  RIVAL_CLUB }o--o{ PLAYER_TACTIC_RECOMMENDATION : "ìƒëŒ€ê¸°ë°˜(ì˜µì…˜)"

  PLAYER {
    int       player_id PK
    varchar   name
    varchar   position
    date      birth
    varchar   foot
  }

  FORMATION {
    int       formation_id PK
    varchar   name
    datetime  created_at
  }

  FORMATION_POSITION {
    int       position_id PK
    int       formation_id FK
    int       player_id FK
    int       x
    int       y
    varchar   role_label
  }

  RIVAL_CLUB {
    int       rival_id PK
    varchar   name
    varchar   logo_url
    varchar   main_tactic
    float     winrate_pred
    int       region_id FK
  }

  REGION {
    int       region_id PK
    varchar   name
  }

  PLAYER_ANALYSIS {
    int       player_id PK,FK
    varchar   style
    varchar   strengths
    varchar   weaknesses
    varchar   recommended_tactics
  }

  PLAYER_TACTIC_RECOMMENDATION {
    int       rec_id PK
    int       player_id FK
    int       rival_id  FK
    varchar   tactic
    varchar   rationale
    datetime  created_at
  }
```

---

## ğŸ”Œ í™˜ê²½ ë³€ìˆ˜ / ì„¤ì •
`.env` ë˜ëŠ” ì„œë²„ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬

```bash
# Kakao Map
KAKAO_MAP_APPKEY=ì—¬ê¸°ì—_í‚¤

# Hugging Face Inference API
HF_API_URL=https://api-inference.huggingface.co/models/gpt2
HF_API_TOKEN=hf_xxxxxxxxxxxxxxxxxxxxx
```
